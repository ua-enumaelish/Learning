<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Horse - lesson 14 (part 2)</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">	
	<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
	<div class="container">
		<div class="row bg-dark">
			<div class="col-2 pt-3">
				<a href="../index.html" class="btn btn-secondary btn-lg active" role="button" aria-pressed="true">BACK</a>	
			</div>
			<div class="col-8 pt-2">
				<h1 class="mb-4 text-light text-center">
					Horse - lesson 14 (part 2)
				</h1>
			</div>
			<div class="offset-2"></div>
		</div>
		<div class="row">
			<div class="col-12">
				<ul class="list-group">
					<li class="list-group-item border-0">
						Создать конструктор Horse, который принимает имя лошади и создает объект со
						следующими свойствами и методами:
						<ul>
							<li>Свойства:</li>
							<ul>
								<li>имя лошади</li>
								<li>пробег</li>
								<li>общий пробег всеми лошадьми</li>
							</ul>
							<li>Методы:</li>
							<ul>
								<li>функция бежать, которая принимает расстояние, как параметр функции, и
								увеличивает на это расстояние пробег и общий пробег.</li>
							</ul>
						</ul>						
						Создать двух лошадей и протестировать, что общий пробег был равен сумме пробега
						каждой лошади
					</li>									
				</ul>
			</div>
		</div>
		<div class="row">
			<div class="col-12 pb-3 border-bottom">
				<h4 class="text-center mt-5 mb-5 ">
					OPTIONAL CONTAINER
				</h4>				
			</div>
		</div>	
		<div class="row">
			<div class="col-12 pb-3 border-bottom">
				<h4 class="text-center mt-5 mb-5 ">
					CONTAINER
				</h4>				
			</div>
		</div>			
	</div>
</div>

<script>

	function Horse(name){
		this.name = name;
		this.mileage = 0;		
		this.fatigue = 0;
		this.addMileage = function(add){
			Horse.prototype.generalMileage += add;
			return this.mileage += add;				
		},

		this.running = function(){
			var that = this;

			var timer = setInterval(function(){
				if(that.mileage != 15){

					that.addMileage(1);
					that.fatigue++;

					console.log("I'm " + that.name + '. I\'m running ' + that.mileage + ' mileage');
					console.log('General mileage '+ horse.generalMileage);
					console.log(that.fatigue);

					if(that.fatigue > 9){		
						clearInterval(timer);						
						that.resting();
					}
				}				
			},1000);
		},

		this.resting = function(){			
			var that = this;
			console.log(this.name + ': I\'m resting 2 sec');
			setTimeout(function(){	
				that.fatigue = 0;	
				that.running();						
			}, 2000);			
		}			
	}
	Horse.prototype = {
		constructor: Horse,
		generalMileage: 0
	};

	var horse = new Horse('Bucephalus');
	horse.running();	
	var horse2 = new Horse('Thunder');
	horse2.fatigue = 1;
	console.log(horse2.mileage);
	horse2.running();	
</script>
</body>
</html>

